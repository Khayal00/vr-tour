<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>VR Tour Simple Hotspots</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <style>body { margin: 0; }</style>
  </head>
  <body>
    <a-scene>
      <!-- تحميل الصور مسبقًا -->
      <a-assets>
        <img id="Living_Room" src="assets/Living_Room.jpg">
        <img id="Kitchen" src="assets/Kitchen.png">
        <audio id="transitionSound" src="assets/transition.mp3"></audio>
      </a-assets>

      <!-- السماء -->
      <a-sky id="sky" rotation="0 -90 0" src="#Living_Room"></a-sky>

      <!-- الكاميرا -->
      <a-entity camera look-controls position="0 1.6 0">
        <a-cursor
          rayOrigin="mouse"
          raycaster="objects: .hotspot"
          fuse="false"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
          material="color: white; shader: flat">
        </a-cursor>
      </a-entity>

      <!-- hotspot -->
      <a-image class="hotspot" src="#Kitchen" position="0 1.6 -3" width="1" height="1">
        <a-animation attribute="scale" begin="mouseenter" to="1.2 1.2 1.2" dur="200"></a-animation>
        <a-animation attribute="scale" begin="mouseleave" to="1 1 1" dur="200"></a-animation>
      </a-image>

      <!-- تسمية الغرفة -->
      <a-text value="Kitchen" align="center" color="#FFF" width="2" position="0 2 -3"></a-text>
    </a-scene>

    <script>
      document.querySelector('.hotspot').addEventListener('click', () => {
        const sky = document.querySelector('#sky');
        const audio = document.querySelector('#transitionSound');
        sky.setAttribute('src', '#Kitchen');
        audio.play().catch(() => {});
      });
    </script>
  </body>
</html>
