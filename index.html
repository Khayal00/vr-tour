const hotspotContainer = document.getElementById('hotspotContainer');

scenes[sceneName].hotspots.forEach(hs => {
  // الهوت سبوت نفسه
  const hotspot = document.createElement('a-plane');
  hotspot.setAttribute('class', 'hotspot');
  hotspot.setAttribute('position', hs.position);
  hotspot.setAttribute('width', 0.6);
  hotspot.setAttribute('height', 0.6);
  hotspot.setAttribute('material', 'src: assets/hotspot.png; transparent:true; shader:standard');
  hotspot.setAttribute('look-at', '#cameraRig'); // يجعل الهوت سبوت يواجه الكاميرا

  // التوهج
  const glow = document.createElement('a-plane');
  glow.setAttribute('position', '0 0 0.01'); // أمام الصورة قليلًا
  glow.setAttribute('width', 0.8);
  glow.setAttribute('height', 0.8);
  glow.setAttribute('material', 'color:white; emissive:white; emissiveIntensity:3; opacity:0.3; transparent:true; shader:standard');
  hotspot.appendChild(glow);

  // حركة عند المرور
  hotspot.setAttribute('animation__hover','property: scale; startEvents: mouseenter; to:1.3 1.3 1.3; dur:200');
  glow.setAttribute('animation__glow_hover','property: material.emissiveIntensity; startEvents: mouseenter; to:6; dur:200');
  hotspot.setAttribute('animation__leave','property: scale; startEvents: mouseleave; to:1 1 1; dur:200');
  glow.setAttribute('animation__glow_leave','property: material.emissiveIntensity; startEvents: mouseleave; to:3; dur:200');

  // عند الضغط
  hotspot.addEventListener('click', ()=>{ changeScene(hs.target); });

  hotspotContainer.appendChild(hotspot);
});
