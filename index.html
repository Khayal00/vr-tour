<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جولة افتراضية في المنزل</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جولة افتراضية في المنزل</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@5.1.2/dist/aframe-animation-component.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            overflow: hidden;
            background: #0a192f;
            color: #e6f1ff;
            height: 100vh;
            perspective: 1000px;
        }
        
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #0a192f);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1.5s ease;
        }
        
        .welcome-content {
            text-align: center;
            max-width: 800px;
            padding: 20px;
            background: rgba(10, 25, 47, 0.8);
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: pulse 2s infinite alternate;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: #64ffda;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.7);
        }
        
        h2 {
            font-size: 2rem;
            margin: 30px 0 15px;
            color: #64ffda;
        }
        
        p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .instructions {
            background: rgba(23, 42, 69, 0.8);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #64ffda;
        }
        
        .instructions li {
            margin: 10px 0;
            text-align: right;
            list-style-position: inside;
        }
        
        .loading-container {
            width: 80%;
            max-width: 500px;
            height: 30px;
            background: rgba(23, 42, 69, 0.8);
            border-radius: 15px;
            margin: 30px 0;
            overflow: hidden;
            border: 2px solid #64ffda;
        }
        
        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #1a2a6c, #64ffda, #1a2a6c);
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        .start-btn {
            background: linear-gradient(45deg, #1a2a6c, #64ffda);
            color: #0a192f;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(100, 255, 218, 0.7);
        }
        
        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.9);
        }
        
        .space-map {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .space-item {
            background: rgba(23, 42, 69, 0.8);
            padding: 10px 20px;
            border-radius: 10px;
            min-width: 150px;
            text-align: center;
            border: 1px solid #64ffda;
            transition: all 0.3s ease;
        }
        
        .space-item:hover {
            transform: translateY(-5px);
            background: rgba(100, 255, 218, 0.2);
        }
        
        .hotspot-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(23, 42, 69, 0.8);
            border-radius: 10px;
        }
        
        .hotspot-preview {
            width: 60px;
            height: 60px;
            background: url('https://cdn-icons-png.flaticon.com/512/169/169094.png') center/contain no-repeat;
            animation: pulse 1.5s infinite alternate;
        }
        
        #scene-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease;
        }
        
        .controls-info {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            background: rgba(10, 25, 47, 0.7);
            padding: 10px;
            font-size: 1.1rem;
            z-index: 10;
            display: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.1); opacity: 1; }
        }
        
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }
        
        .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #64ffda;
            animation: float 3s ease-in-out infinite;
        }
        
        .current-room {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 1.8rem;
            color: #64ffda;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.7);
            background: rgba(10, 25, 47, 0.7);
            padding: 10px;
            z-index: 10;
            display: none;
        }
        
        .fade-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            opacity: 0;
            pointer-events: none;
            z-index: 20;
            transition: opacity 0.5s ease;
        }
        
        /* تصميم متجاوب */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.5rem; }
            p { font-size: 1rem; }
            .space-item { min-width: 120px; padding: 8px 15px; }
            .start-btn { padding: 12px 30px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- شاشة الترحيب -->
    <div id="welcome-screen">
        <div class="logo">VR TOUR</div>
        <div class="welcome-content">
            <h1>جولة افتراضية في المنزل</h1>
            <p>مرحباً بك في جولتنا الافتراضية المذهلة! ستأخذك هذه التجربة في رحلة تفاعلية عبر مختلف أجزاء المنزل باستخدام تقنية 360 درجة.</p>
            
            <div class="instructions">
                <h2>كيفية الاستخدام:</h2>
                <ul>
                    <li>انظر حولك باستخدام الماوس أو حرك رأسك في نظارة VR</li>
                    <li>انقر على نقاط الانتقال (الهوت سبوت) للتنقل بين الغرف</li>
                    <li>استخدم الأسهم على لوحة المفاتيح للحركة في بعض المتصفحات</li>
                    <li>اضغط على زر البداية للانطلاق في الجولة</li>
                </ul>
            </div>
            
            <h2>الغرف المتاحة:</h2>
            <div class="space-map">
                <div class="space-item">الصالة الرئيسية</div>
                <div class="space-item">غرفة المعيشة</div>
                <div class="space-item">المطبخ</div>
                <div class="space-item">الممر</div>
                <div class="space-item">غرفة النوم</div>
                <div class="space-item">الحمام</div>
            </div>
            
            <div class="hotspot-info">
                <div class="hotspot-preview"></div>
                <p>ستظهر نقاط الانتقال بهذا الشكل داخل الجولة</p>
            </div>
            
            <div class="loading-container">
                <div class="loading-bar" id="loading-bar"></div>
            </div>
            
            <button class="start-btn" id="start-btn">بدء الجولة</button>
        </div>
    </div>
    
    <!-- مشهد A-Frame -->
    <div id="scene-container">
        <div class="fade-overlay" id="fade-overlay"></div>
        <div class="current-room" id="current-room">غرفة المعيشة</div>
        <div class="controls-info">
            حرك رأسك للتنقل • انقر على نقاط الانتقال • استخدم الأسهم للحركة
        </div>
        
        <a-scene loading-screen="enabled: false" vr-mode-ui="enabled: true">
            <!-- الأصول -->
            <a-assets>
                <!-- في الواقع العملي، ستكون هذه صور 360 حقيقية -->
                <img id="reception-img" src="assets/Reception.jpg">
                <img id="living-room-img" src="assets/Living_Room.jpg">
                <img id="kitchen-img" src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" crossorigin="anonymous">
                <img id="corridor-img" src="https://images.unsplash.com/photo-1560448205-97abe7378152?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" crossorigin="anonymous">
                <img id="bedroom-img" src="https://images.unsplash.com/photo-1615529162924-4d0bdde9abc8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" crossorigin="anonymous">
                <img id="bathroom-img" src="https://images.unsplash.com/photo-1622325073899-2d9f8c7a9c1f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" crossorigin="anonymous">
                
                <!-- صورة الهوت سبوت PNG -->
                <img id="hotspot-img" src="assets/hotspot.png" crossorigin="anonymous">
            </a-assets>
            
            <!-- الكاميرا -->
            <a-entity id="rig" movement-controls="speed: 0.1">
                <a-entity camera="active: true" look-controls="pointerLockEnabled: true" position="0 1.6 0">
                    <a-entity cursor="rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
                </a-entity>
            </a-entity>
            
            <!-- مشهد بدائي (سيتم تغييره) -->
            <a-sky id="scene-sky" src="#living-room-img"></a-sky>
        </a-scene>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const welcomeScreen = document.getElementById('welcome-screen');
            const sceneContainer = document.getElementById('scene-container');
            const loadingBar = document.getElementById('loading-bar');
            const startBtn = document.getElementById('start-btn');
            const currentRoom = document.getElementById('current-room');
            const controlsInfo = document.querySelector('.controls-info');
            const fadeOverlay = document.getElementById('fade-overlay');
            
            // محاكاة شريط التحميل
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);
                    startBtn.disabled = false;
                }
                loadingBar.style.width = `${progress}%`;
            }, 200);
            
            // بدء الجولة
            startBtn.addEventListener('click', () => {
                welcomeScreen.style.opacity = '0';
                setTimeout(() => {
                    welcomeScreen.style.display = 'none';
                    sceneContainer.style.opacity = '1';
                    currentRoom.style.display = 'block';
                    controlsInfo.style.display = 'block';
                    
                    // تهيئة المشهد
                    initScene();
                }, 1500);
            });
            
            // تهيئة مشهد A-Frame
            function initScene() {
                const scene = document.querySelector('a-scene');
                
                // تعريف الغرف والهوت سبوت
                const rooms = {
                    'Reception': {
                        image: '#reception-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 1.5 -5', rotation: '0 0 0', label: 'غرفة المعيشة' }
                        ]
                    },
                    'Living_Room': {
                        image: '#living-room-img',
                        hotspots: [
                            { to: 'Reception', position: '3 1.5 -4', rotation: '0 -90 0', label: 'الاستقبال' },
                            { to: 'Kitchen', position: '-4 1.5 -2', rotation: '0 90 0', label: 'المطبخ' },
                            { to: 'Corridor', position: '0 1.5 5', rotation: '0 180 0', label: 'الممر' }
                        ]
                    },
                    'Kitchen': {
                        image: '#kitchen-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 1.5 -5', rotation: '0 0 0', label: 'غرفة المعيشة' }
                        ]
                    },
                    'Corridor': {
                        image: '#corridor-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 1.5 -5', rotation: '0 0 0', label: 'غرفة المعيشة' },
                            { to: 'Bedroom', position: '4 1.5 0', rotation: '0 -90 0', label: 'غرفة النوم' },
                            { to: 'Bathroom', position: '-4 1.5 0', rotation: '0 90 0', label: 'الحمام' }
                        ]
                    },
                    'Bedroom': {
                        image: '#bedroom-img',
                        hotspots: [
                            { to: 'Corridor', position: '0 1.5 -5', rotation: '0 0 0', label: 'الممر' }
                        ]
                    },
                    'Bathroom': {
                        image: '#bathroom-img',
                        hotspots: [
                            { to: 'Corridor', position: '0 1.5 -5', rotation: '0 0 0', label: 'الممر' }
                        ]
                    }
                };
                
                // تغيير الغرفة
                function changeRoom(roomName) {
                    const room = rooms[roomName];
                    if (!room) return;
                    
                    // تأثير التلاشي الأسود
                    fadeOverlay.style.opacity = 1;
                    
                    setTimeout(() => {
                        const sky = document.getElementById('scene-sky');
                        sky.setAttribute('src', room.image);
                        currentRoom.textContent = getArabicName(roomName);
                        
                        // إزالة الهوت سبوت القديمة
                        document.querySelectorAll('.hotspot').forEach(el => el.remove());
                        
                        // إضافة الهوت سبوت الجديدة
                        room.hotspots.forEach(hotspot => {
                            const hotspotEl = document.createElement('a-entity');
                            hotspotEl.classList.add('hotspot', 'clickable');
                            hotspotEl.setAttribute('position', hotspot.position);
                            hotspotEl.setAttribute('rotation', hotspot.rotation);
                            
                            // استخدام صورة PNG للهوت سبوت
                            hotspotEl.setAttribute('geometry', 'primitive: plane; width: 0.6; height: 0.6');
                            hotspotEl.setAttribute('material', `src: #hotspot-img; transparent: true; opacity: 0.8`);
                            
                            // تأثيرات النبض والتكبير
                            hotspotEl.setAttribute('animation__pulse', `
                                property: scale;
                                dir: alternate;
                                dur: 1000;
                                loop: true;
                                to: 1.2 1.2 1;
                                easing: easeInOutSine
                            `);
                            
                            hotspotEl.setAttribute('animation__opacity', `
                                property: material.opacity;
                                dir: alternate;
                                dur: 1000;
                                loop: true;
                                to: 1;
                                easing: easeInOutSine
                            `);
                            
                            // تأثير عند التمرير فوق الهوت سبوت
                            hotspotEl.setAttribute('event-set__mouseenter', 'scale: 1.3 1.3 1');
                            hotspotEl.setAttribute('event-set__mouseleave', 'scale: 1 1 1');
                            
                            // نص الوصف
                            const textEl = document.createElement('a-entity');
                            textEl.setAttribute('text', `value: ${hotspot.label}; color: #64ffda; align: center; width: 2`);
                            textEl.setAttribute('position', '0 -0.5 0');
                            textEl.setAttribute('rotation', '0 180 0');
                            hotspotEl.appendChild(textEl);
                            
                            // حدث النقر
                            hotspotEl.addEventListener('click', () => {
                                changeRoom(hotspot.to);
                            });
                            
                            scene.appendChild(hotspotEl);
                        });
                        
                        // إزالة تأثير التلاشي
                        setTimeout(() => {
                            fadeOverlay.style.opacity = 0;
                        }, 500);
                    }, 500);
                }
                
                // بدء الجولة من غرفة المعيشة
                changeRoom('Living_Room');
            }
            
            // تحويل أسماء الغرف للعربية
            function getArabicName(room) {
                const names = {
                    'Reception': 'الاستقبال',
                    'Living_Room': 'غرفة المعيشة',
                    'Kitchen': 'المطبخ',
                    'Corridor': 'الممر',
                    'Bedroom': 'غرفة النوم',
                    'Bathroom': 'الحمام'
                };
                return names[room] || room;
            }
        });
    </script>
</body>
</html>-animation-component@5.1.2/dist/aframe-animation-component.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            overflow: hidden;
            background: #0a192f;
            color: #e6f1ff;
            height: 100vh;
            perspective: 1000px;
        }
        
        #welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #0a192f);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1.5s ease;
        }
        
        .welcome-content {
            text-align: center;
            max-width: 800px;
            padding: 20px;
            background: rgba(10, 25, 47, 0.8);
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            animation: pulse 2s infinite alternate;
        }
        
        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: #64ffda;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.7);
        }
        
        h2 {
            font-size: 2rem;
            margin: 30px 0 15px;
            color: #64ffda;
        }
        
        p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .instructions {
            background: rgba(23, 42, 69, 0.8);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #64ffda;
        }
        
        .instructions li {
            margin: 10px 0;
            text-align: right;
            list-style-position: inside;
        }
        
        .loading-container {
            width: 80%;
            max-width: 500px;
            height: 30px;
            background: rgba(23, 42, 69, 0.8);
            border-radius: 15px;
            margin: 30px 0;
            overflow: hidden;
            border: 2px solid #64ffda;
        }
        
        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #1a2a6c, #64ffda, #1a2a6c);
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }
        
        .start-btn {
            background: linear-gradient(45deg, #1a2a6c, #64ffda);
            color: #0a192f;
            border: none;
            padding: 15px 40px;
            font-size: 1.3rem;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(100, 255, 218, 0.7);
        }
        
        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.9);
        }
        
        .space-map {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .space-item {
            background: rgba(23, 42, 69, 0.8);
            padding: 10px 20px;
            border-radius: 10px;
            min-width: 150px;
            text-align: center;
            border: 1px solid #64ffda;
            transition: all 0.3s ease;
        }
        
        .space-item:hover {
            transform: translateY(-5px);
            background: rgba(100, 255, 218, 0.2);
        }
        
        .hotspot-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(23, 42, 69, 0.8);
            border-radius: 10px;
        }
        
        .hotspot-preview {
            width: 60px;
            height: 60px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="%2364ffda" stroke-width="8"/><circle cx="50" cy="50" r="15" fill="%2364ffda"/></svg>') center/contain no-repeat;
            animation: pulse 1.5s infinite alternate;
        }
        
        #scene-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease;
        }
        
        .controls-info {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            background: rgba(10, 25, 47, 0.7);
            padding: 10px;
            font-size: 1.1rem;
            z-index: 10;
            display: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.1); opacity: 1; }
        }
        
        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0); }
        }
        
        .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #64ffda;
            animation: float 3s ease-in-out infinite;
        }
        
        .current-room {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 1.8rem;
            color: #64ffda;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.7);
            background: rgba(10, 25, 47, 0.7);
            padding: 10px;
            z-index: 10;
            display: none;
        }
        
        .fade-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            opacity: 0;
            pointer-events: none;
            z-index: 20;
            transition: opacity 0.5s ease;
        }
        
        /* تصميم متجاوب */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.5rem; }
            p { font-size: 1rem; }
            .space-item { min-width: 120px; padding: 8px 15px; }
            .start-btn { padding: 12px 30px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- شاشة الترحيب -->
    <div id="welcome-screen">
        <div class="logo">VR TOUR</div>
        <div class="welcome-content">
            <h1>جولة افتراضية في المنزل</h1>
            <p>مرحباً بك في جولتنا الافتراضية المذهلة! ستأخذك هذه التجربة في رحلة تفاعلية عبر مختلف أجزاء المنزل باستخدام تقنية 360 درجة.</p>
            
            <div class="instructions">
                <h2>كيفية الاستخدام:</h2>
                <ul>
                    <li>انظر حولك باستخدام الماوس أو حرك رأسك في نظارة VR</li>
                    <li>انقر على نقاط الانتقال (الهوت سبوت) للتنقل بين الغرف</li>
                    <li>استخدم الأسهم على لوحة المفاتيح للحركة في بعض المتصفحات</li>
                    <li>اضغط على زر البداية للانطلاق في الجولة</li>
                </ul>
            </div>
            
            <h2>الغرف المتاحة:</h2>
            <div class="space-map">
                <div class="space-item">الصالة الرئيسية</div>
                <div class="space-item">غرفة المعيشة</div>
                <div class="space-item">المطبخ</div>
                <div class="space-item">الممر</div>
                <div class="space-item">غرفة النوم</div>
                <div class="space-item">الحمام</div>
            </div>
            
            <div class="hotspot-info">
                <div class="hotspot-preview"></div>
                <p>ستظهر نقاط الانتقال بهذا الشكل داخل الجولة</p>
            </div>
            
            <div class="loading-container">
                <div class="loading-bar" id="loading-bar"></div>
            </div>
            
            <button class="start-btn" id="start-btn">بدء الجولة</button>
        </div>
    </div>
    
    <!-- مشهد A-Frame -->
    <div id="scene-container">
        <div class="fade-overlay" id="fade-overlay"></div>
        <div class="current-room" id="current-room">غرفة المعيشة</div>
        <div class="controls-info">
            حرك رأسك للتنقل • انقر على نقاط الانتقال • استخدم الأسهم للحركة
        </div>
        
        <a-scene loading-screen="enabled: false" vr-mode-ui="enabled: true">
            <!-- الأصول -->
            <a-assets>
                <!-- في الواقع العملي، ستكون هذه صور 360 حقيقية -->
                <img id="reception-img" src="assets/Reception.jpg">
                <img id="living-room-img" src="assets/Living_Room.jpg">
                <img id="kitchen-img" src="assets/Kitchen.jpg">
                <img id="corridor-img" src="https://cdn.glitch.global/1a8f8b5d-8b0d-4a4f-9c6b-8e8e8e8e8e8e/corridor.jpg?v=123" crossorigin="anonymous">
                <img id="bedroom-img" src="https://cdn.glitch.global/1a8f8b5d-8b0d-4a4f-9c6b-8e8e8e8e8e8e/bedroom.jpg?v=123" crossorigin="anonymous">
                <img id="bathroom-img" src="https://cdn.glitch.global/1a8f8b5d-8b0d-4a4f-9c6b-8e8e8e8e8e8e/bathroom.jpg?v=123" crossorigin="anonymous">
                
                <!-- صورة الهوت سبوت -->
                <img id="hotspot-img" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='none' stroke='%2364ffda' stroke-width='8'/><circle cx='50' cy='50' r='15' fill='%2364ffda'/></svg>" crossorigin="anonymous">
            </a-assets>
            
            <!-- الكاميرا -->
            <a-entity id="rig" movement-controls="speed: 0.1">
                <a-entity camera="active: true" look-controls="pointerLockEnabled: true" position="0 1.6 0">
                    <a-entity cursor="rayOrigin: mouse" raycaster="objects: .clickable"></a-entity>
                </a-entity>
            </a-entity>
            
            <!-- مشهد بدائي (سيتم تغييره) -->
            <a-sky id="scene-sky" src="#living-room-img"></a-sky>
            
            <!-- نقاط الانتقال -->
            <!-- هذه ستحتوي على نقاط الهوت سبوت التي ستضاف ديناميكياً -->
        </a-scene>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const welcomeScreen = document.getElementById('welcome-screen');
            const sceneContainer = document.getElementById('scene-container');
            const loadingBar = document.getElementById('loading-bar');
            const startBtn = document.getElementById('start-btn');
            const currentRoom = document.getElementById('current-room');
            const controlsInfo = document.querySelector('.controls-info');
            const fadeOverlay = document.getElementById('fade-overlay');
            
            // محاكاة شريط التحميل
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);
                    startBtn.disabled = false;
                }
                loadingBar.style.width = `${progress}%`;
            }, 200);
            
            // بدء الجولة
            startBtn.addEventListener('click', () => {
                welcomeScreen.style.opacity = '0';
                setTimeout(() => {
                    welcomeScreen.style.display = 'none';
                    sceneContainer.style.opacity = '1';
                    currentRoom.style.display = 'block';
                    controlsInfo.style.display = 'block';
                    
                    // تهيئة المشهد
                    initScene();
                }, 1500);
            });
            
            // تهيئة مشهد A-Frame
            function initScene() {
                const scene = document.querySelector('a-scene');
                
                // تعريف الغرف والهوت سبوت
                const rooms = {
                    'Reception': {
                        image: '#reception-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 0 -5', rotation: '0 0 0', label: 'غرفة المعيشة' }
                        ]
                    },
                    'Living_Room': {
                        image: '#living-room-img',
                        hotspots: [
                            { to: 'Reception', position: '3 1.5 -4', rotation: '0 -90 0', label: 'الاستقبال' },
                            { to: 'Kitchen', position: '-4 1.5 -2', rotation: '0 90 0', label: 'المطبخ' },
                            { to: 'Corridor', position: '0 1.5 5', rotation: '0 180 0', label: 'الممر' }
                        ]
                    },
                    'Kitchen': {
                        image: '#kitchen-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 1.5 -5', rotation: '0 0 0', label: 'غرفة المعيشة' }
                        ]
                    },
                    'Corridor': {
                        image: '#corridor-img',
                        hotspots: [
                            { to: 'Living_Room', position: '0 1.5 -5', rotation: '0 0 0', label: 'غرفة المعيشة' },
                            { to: 'Bedroom', position: '4 1.5 0', rotation: '0 -90 0', label: 'غرفة النوم' },
                            { to: 'Bathroom', position: '-4 1.5 0', rotation: '0 90 0', label: 'الحمام' }
                        ]
                    },
                    'Bedroom': {
                        image: '#bedroom-img',
                        hotspots: [
                            { to: 'Corridor', position: '0 1.5 -5', rotation: '0 0 0', label: 'الممر' }
                        ]
                    },
                    'Bathroom': {
                        image: '#bathroom-img',
                        hotspots: [
                            { to: 'Corridor', position: '0 1.5 -5', rotation: '0 0 0', label: 'الممر' }
                        ]
                    }
                };
                
                // تغيير الغرفة
                function changeRoom(roomName) {
                    const room = rooms[roomName];
                    if (!room) return;
                    
                    // تأثير التلاشي الأسود
                    fadeOverlay.style.opacity = 1;
                    
                    setTimeout(() => {
                        const sky = document.getElementById('scene-sky');
                        sky.setAttribute('src', room.image);
                        currentRoom.textContent = getArabicName(roomName);
                        
                        // إزالة الهوت سبوت القديمة
                        document.querySelectorAll('.hotspot').forEach(el => el.remove());
                        
                        // إضافة الهوت سبوت الجديدة
                        room.hotspots.forEach(hotspot => {
                            const hotspotEl = document.createElement('a-entity');
                            hotspotEl.classList.add('hotspot', 'clickable');
                            hotspotEl.setAttribute('position', hotspot.position);
                            hotspotEl.setAttribute('rotation', hotspot.rotation);
                            hotspotEl.setAttribute('geometry', 'primitive: circle; radius: 0.3');
                            hotspotEl.setAttribute('material', `src: #hotspot-img; transparent: true; opacity: 0.8`);
                            hotspotEl.setAttribute('animation__scale', 'property: scale; to: 1.2 1.2 1; dir: alternate; dur: 1000; loop: true; easing: easeInOutSine');
                            hotspotEl.setAttribute('animation__opacity', 'property: material.opacity; to: 1; dir: alternate; dur: 1000; loop: true; easing: easeInOutSine');
                            
                            // تأثير عند التمرير فوق الهوت سبوت
                            hotspotEl.setAttribute('event-set__mouseenter', 'scale: 1.3 1.3 1');
                            hotspotEl.setAttribute('event-set__mouseleave', 'scale: 1 1 1');
                            
                            // نص الوصف
                            const textEl = document.createElement('a-entity');
                            textEl.setAttribute('text', `value: ${hotspot.label}; color: #64ffda; align: center; width: 2`);
                            textEl.setAttribute('position', '0 -0.5 0');
                            textEl.setAttribute('rotation', '0 180 0');
                            hotspotEl.appendChild(textEl);
                            
                            // حدث النقر
                            hotspotEl.addEventListener('click', () => {
                                changeRoom(hotspot.to);
                            });
                            
                            scene.appendChild(hotspotEl);
                        });
                        
                        // إزالة تأثير التلاشي
                        setTimeout(() => {
                            fadeOverlay.style.opacity = 0;
                        }, 500);
                    }, 500);
                }
                
                // بدء الجولة من غرفة المعيشة
                changeRoom('Living_Room');
            }
            
            // تحويل أسماء الغرف للعربية
            function getArabicName(room) {
                const names = {
                    'Reception': 'الاستقبال',
                    'Living_Room': 'غرفة المعيشة',
                    'Kitchen': 'المطبخ',
                    'Corridor': 'الممر',
                    'Bedroom': 'غرفة النوم',
                    'Bathroom': 'الحمام'
                };
                return names[room] || room;
            }
        });
    </script>
</body>
</html>
